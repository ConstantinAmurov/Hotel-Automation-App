<%- include("layouts/Header"); -%>

    <!--Custom CSS-->
    <link href="/css/home-page.css" rel="stylesheet" type="text/css" />
    <link href="/css/side-bar.css" rel="stylesheet" type="text/css" />
    <!-- Flatpickr CSS-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flatpickr/4.2.3/flatpickr.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flatpickr/4.2.3/themes/default.css">
    <!-- Slick Carousel files-->
    <link rel="stylesheet" type="text/css" href="/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="/slick/slick-theme.css"/>

    <title>Home Page</title>
    </head>

    <body>

        <%- include ("layouts/Sidebar"); -%>

            <div id="page-content-wrapper">
                <div class="upper">
                    <div class="text">
                        <h3>Hello First Name</h3>
                        <h1>Let's find the best room for your stay</h1>
                    </div>

                    <img src="/img/travel-img.svg" alt="" srcset="">
                </div>
                <div class="container search-bar ">
                    <div class="row">
                        <div class="section col ">
                            <form method="POST">

                                <span class="icon"><i class="far fa-calendar-plus"></i></span>
                                <input type="text" name="rangeDate" id="rangeDate" placeholder="Select Date Range"
                                    data-input>
                        </div>

                        <div class="section col center">
                            <select name="roomType" class="form-select" aria-label="Default select example">
                                <option selected value="1">Single Room</option>
                                <option value="2">Double Room</option>
                                <option value="3">Triple Room</option>
                            </select>

                        </div>
                        <button class="section col find-btn" onclick="search()">
                            <span class="icon" style="color:white"><i class="fas fa-search"></i></span>
                            <span class="text">Find option</span>
                        </button>
                        </form>
                    </div>
                </div>
                <div class="bottom">
                    <div class="container">
                        <div class="text">
                            <h3>Choose your preference</h3>
                        </div>

                        <div class="row room-suggestions">
                            <% rooms.forEach(room =>  { %>
                            <div class="col room">
                                <div class="info">
                                    <div class="room-price"> <%= room.price  %>$</div>
                                    <div class="type"> <%=room.roomType %> </div>
                                    <div class="nr-persons"> 
                                        <% for(i=0; i < room.nrPerson; i++)  {%>
                                            <i class="fal fa-user"></i>  
                                            <% } %>
                                    </div>
                                    <div class="rating"> Rating:
                                        <div class="stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="far fa-star"></i>
                                        </div>
                                    </div>
                                    <div >
                                    <form action ="/reserve" method="POST">
                                            <button value="<%= room.roomId %>"class="reserve" name="reserveBtn"> Reserve </button>
                                        
                                    </form></div>
                                </div>
                            </div>
<% }); %>

                        </div>
                    </div>
                </div>

                <!-- jQuery first,then flatPickr then Popper.js, then Bootstrap JS -->
                <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
                    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
                    crossorigin="anonymous"></script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/flatpickr/4.2.3/flatpickr.js"></script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
                    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
                    crossorigin="anonymous"></script>
                <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
                    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
                    crossorigin="anonymous"></script>
                <!--Slick Scripts-->
               
                <script type="text/javascript" src="/slick/slick.min.js"></script>
				<!-- Script for initializing flatPickr-->
                <script>
                    $("#basicDate").flatpickr({
                        enableTime: true,
                        dateFormat: "F, d Y H:i"
                    });
                    $("#rangeDate").flatpickr({
                        mode: 'range',
                        dateFormat: "Y-m-d"
                    });
                </script>
                <!--Script initializing Slick Carousel-->
                <script >
                    

                    $(document).ready(function(){
  $('.room-suggestions').slick({
  dots: false,
        infinite: false,
        speed: 500,
        slidesToShow: 3,
        slidesToScroll: 1,
        autoplay: true,
        autoplaySpeed: 2000,
        arrows: true,
        responsive: [{
          breakpoint: 600,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 1
          }
        },
        {
           breakpoint: 400,
           settings: {
              arrows: false,
              slidesToShow: 1,
              slidesToScroll: 1
           }
        }]
    });
});
                </script>


                <%- include("layouts/Footer"); -%>